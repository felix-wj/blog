---
title: 顺序消息
date: 2023-11-15 20:06:20
permalink: /pages/order-mq-msg/
categories:
  - 消息队列
tags:
  - 
---

## 生产端

生产端确保消息顺序唯一要做的事情就是将消息路由到特定的分区。

如果消息量不大，可以使用单个分区，如果消息量大，应当考虑使用多个分区。

## 消费端

消费端需要保证单线程消费。对于批量拉消息的方式，拉到的消息是有序的，需要自行保证消费的顺序。

另外，对于消费失败并且达到重试次数的消息，是否可以消费下一条消息，需要根据业务场景来决定。

